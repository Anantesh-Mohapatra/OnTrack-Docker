# Welcome to OnTrack!

## Project Description

OnTrack makes it easier to find information about a train by its train number. Since NJ Transit’s app can be slow or confusing, OnTrack’s simple interface makes it easy to see where a train is, how delayed it is, and more.

OnTrack also shows a short list of “popular” trains at the top of the site.
Disclaimer: “Popular” trains are manually selected, not generated by an algorithm (they're just trains I frequently take).

## Instructions

Prerequisites
- Node.js
- npm

Steps
1. Clone the repository: `git clone https://github.com/Anantesh-Mohapatra/OnTrack-Docker.git`
2. Install frontend dependencies (project root): `npm install`
3. Install backend dependencies:
   - `cd backend`
   - `npm install`
   - `cd ..`
4. Create a `.env` file (in the project root or in `backend/`) with your NJ Transit API key:
   - `REACT_APP_NJTRANSIT_API_KEY=your_api_key_here`
   - The backend proxies NJ Transit calls so this key never reaches the browser.
5. Start the backend in one terminal: `node backend/server.js` (http://localhost:5000)
6. Start the frontend in another terminal: `npm start` (http://localhost:3000)
   - The frontend automatically uses the local backend if available.

### Docker (optional)

You can run both the backend and the static frontend with Docker. Ensure you have a `.env` file with `REACT_APP_NJTRANSIT_API_KEY` available.

- Build and run the backend (maps to host port 5000):
  - `docker build -t ontrack-backend ./backend`
  - `docker run -d --name ontrack-backend --env-file ./.env -p 5000:5000 ontrack-backend`

- Build and run the frontend:
  - `docker build -t ontrack-frontend .`
  - `docker run -d --name ontrack-frontend -e PORT=8080 -p 8080:8080 ontrack-frontend`

Open http://localhost:8080 in your browser. The browser will call the backend at http://localhost:5000 automatically (the app prefers that URL if it’s reachable).

## API Information

This project uses the free NJ Transit RailData API. The backend server exposes `/api/train-data?train=<number>` and securely calls NJ Transit with your API key so the key never reaches the frontend.

API keys can be generated up to 10 times a day, and each key can be used up to 40,000 times a day.
Register and read the docs: https://developer.njtransit.com/registration/docs

Attributions: [Leaflet](https://leafletjs.com), [React‑Leaflet](https://react-leaflet.js.org), map tiles & data © [OpenStreetMap contributors](https://www.openstreetmap.org/copyright), [Font Awesome](https://fontawesome.com).
